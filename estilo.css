/* =================================================================
   Archivo: estilo.css - Diseño CLARO Y LIMPIO (SIN COLORES OSCUROS)
   ================================================================= */

/* 1. FONDO DE PÁGINA COMPLETA (CONTENIDO PRINCIPAL) */
.stApp {
    background-image: url("https://images.pexels.com/photos/4712000/pexels-photo-4712000.jpeg?_gl=1*u0cpqr*_ga*NjY1ODU4NDkuMTc2NDM3NTQ0Nw..*_ga_8JE65Q40S6*czE3NjQzNzU0NDckbzEkZzEkdDE3NjQzNzc0NzMkajQ4JGwwJGgw.");
    background-size: cover; 
    background-position: center; 
    background-repeat: no-repeat;
    background-attachment: fixed;
    
    /* Aclaramiento sutil para la imagen de fondo */
    background-blend-mode: overlay; 
    background-color: rgba(255, 255, 255, 0.4) !important; 
}


/* =================================================================
   Punto 2: BARRA LATERAL (SIDEBAR) - IMAGEN DE FONDO
   ================================================================= */
.st-emotion-cache-113itb1 /* <-- ¡ESTE ES EL NUEVO SELECTOR! */
{
    /* Mantenemos la imagen y el filtro sutil */
    background-image: url("https://images.pexels.com/photos/8361520/pexels-photo-8361520.jpeg?_gl=1*1sh9nly*_ga*NjY1ODU4NDkuMTc2NDM3NTQ0Nw..*_ga_8JE65Q40S6*czE3NjQzNzU0NDckbzEkZzEkdDE3NjQzNzY2MzgkajQ2JGwwJGgw");
    background-size: cover; 
    background-position: center; 
    background-repeat: no-repeat;
    
    background-blend-mode: overlay; 
    background-color: rgba(255, 255, 255, 0.7) !important; /* Capa blanca para legibilidad */
}
/* =================================================================
   Punto 3: MEJORAR LA LEGIBILIDAD DEL TEXTO Y TRANSPARENCIA (CRÍTICO)
   ================================================================= */
div[data-testid="stSidebarContent"] {
    background-color: transparent !important; /* <-- ¡Esto quita el negro interno! */
}
/* ... el resto de las reglas para color de texto ... */
/* ... y el resto de los estilos de transparencia para filtros ... */
/* 4. ESTILO PROFESIONAL - KPIs y Contenedores */
/* Aseguramos que el fondo de estos elementos sea BLANCO (no negro/morado) */
.st-emotion-cache-1gsv4e8, 
.st-emotion-cache-nahz7x { 
    padding: 15px;
    border-radius: 10px;
    box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.1); 
    background-color: #FFFFFF; /* Fondo BLANCO */
}

/* 5. ELIMINACIÓN DE COLORES OSCUROS EN TÍTULOS Y TEXTO */
.stHeading {
    background-color: #FFFFFF; /* Fondo blanco para títulos */
    padding: 5px;
    border-radius: 5px;
}

/* Forzamos el color del texto a gris oscuro en todos los títulos */
.stHeading > div > div > h1, .stHeading > div > div > h2, .stHeading > div > div > h3 {
    color: #333333 !important; 
}

/* Divisores claros */
.stDivider {
    border-top: 1px solid #D3D3D3;
}

/* =================================================================
   Punto 6: LIMPIEZA FINAL DE LA SIDEBAR (QUITAR FONDO DE TÍTULO)
   ================================================================= */

/* ESTE SELECTOR APUNTA A LA "CAJITA BLANCA" QUE CONTIENE EL H1 */
div[data-testid="stSidebarUserContent"] div[data-testid="stElementContainer"] {
    background-color: transparent !important;
    padding: 0 !important;
}

/* 2. Aseguramos que el contenedor del encabezado (stHeading) también sea transparente */
div[data-testid="stSidebarUserContent"] div[data-testid="stHeading"] {
    background-color: transparent !important;
}

/* El contenedor más interno (stMarkdownContainer) ya debería ser transparente, pero lo forzamos */
.st-emotion-cache-1fwbbrh {
    background-color: transparent !important;
}

/* =================================================================
   Punto 7: IMAGEN DE FONDO PARA GRÁFICOS PLOTLY
   ================================================================= */

/* 1. Aplicamos la imagen al contenedor principal de los gráficos Streamlit */
.stPlotlyChart {
    /* Aquí aplicamos la imagen de fondo deseada */
    background-image: url("https://i.pinimg.com/1200x/f3/c9/b7/f3c9b73d6d9db19425d9ba94dadea332.jpg"); /* <-- ¡CAMBIA ESTA URL por tu imagen sutil! */
    background-size: cover;
    background-position: center;
    border-radius: 10px; /* Borde suave */
    
    /* Le damos una capa de aclaramiento BLANCO para la legibilidad */
    background-blend-mode: overlay;
    background-color: rgba(255, 255, 255, 0.8) !important; /* Capa blanca fuerte para ver ejes */
}

/* 2. Forzamos el lienzo interno de Plotly a ser TRANSPARENTE */
/* Esto es CRUCIAL para que el fondo de Streamlit (Punto 1) se vea a través del gráfico */
.js-plotly-plot .plotly .main-svg {
    background: transparent !important;
}

/* 3. Aseguramos que el área de Plotly Chart (la caja que lo contiene) también sea transparente */
.st-emotion-cache-1215b22 { /* Selector común para la caja del gráfico */
    background-color: transparent !important;
}

/* =================================================================
   Punto 8: ESTILO DE TÍTULOS Y TEXTOS (IMAGEN PARA TÍTULO H3 SOLAMENTE)
   ================================================================= */

/* 1. ESTILO PARA EL TÍTULO H3 (Selector MÁS ESPECÍFICO) */
/* Combinamos data-testid="stHeading" con el selector de caché interno. */
div[data-testid="stHeading"] .st-emotion-cache-3uj0rx { 
    /* --- APLICAMOS IMAGEN DE FONDO SÓLO AL TÍTULO H3 --- */
    background-image: url("https://i.pinimg.com/1200x/ca/d8/c4/cad8c4e1eb351316959f9a0592a393d7.jpg"); /* <-- URL de tu imagen de título */
    background-size: cover; 
    background-position: center; 
    background-repeat: no-repeat;
    
    background-blend-mode: overlay; 
    background-color: rgba(255, 255, 255, 0.7) !important; /* Capa blanca semi-transparente */
    
    padding: 10px 15px; /* Padding uniforme */
    border-radius: 10px; 
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08); 
    margin-bottom: 5px; /* Margen para no tocar el texto azul */
}


/* 2. Regla para asegurar que el texto sea oscuro */
div[data-testid="stHeading"] .st-emotion-cache-3uj0rx h3 {
    color: #333333 !important; 
    text-shadow: none !important; 
}


/* --- Reglas para el Texto Azul (st.info/st.markdown) --- */
/* (DEBEMOS ASEGURARNOS DE QUE ESTOS BLOQUES SIGAN SIENDO BLANCOS/CLAROS) */
/* Si tu texto azul está dentro de st.info, usa esta regla: */
.stAlert {
    background-color: #F8F8FF !important; /* Un fondo muy claro para legibilidad */
    border-radius: 10px;
    padding: 15px;
}
/* Asegura que el texto azul sea oscuro */
.stAlert p {
    color: #333333 !important; 
}

/* =================================================================
   Punto 9: LIMPIEZA FINAL DE CONTENEDORES DE GRÁFICOS (DETRÁS DEL TÍTULO)
   ================================================================= */

/* 1. Hacemos que el contenedor externo del título (stHeading) sea transparente */
div[data-testid="stHeading"] {
    background-color: transparent !important;
}

/* =================================================================
   Punto 10: ESTILO DE LA BARRA SUPERIOR (HEADER) - FINAL
   ================================================================= */

/* 1. Selector principal (La etiqueta <header> completa) */
.st-emotion-cache-13892zc, 
header[data-testid="stHeader"] { /* Usamos ambos selectores para máxima compatibilidad */
    background-color: transparent !important; /* Forzamos la transparencia */
    color: #333333 !important; /* Aseguramos que los íconos sean visibles */
}

/* 2. Selector del toolbar interno (que puede tener un fondo) */
.stAppToolbar, 
.st-emotion-cache-14vh5up {
    background-color: transparent !important;
}

/* 3. Limpieza de los contenedores internos que contienen los botones */
.st-emotion-cache-scp8yw, /* Contenedor de las acciones (Share, etc.) */
.st-emotion-cache-1j22a0y {
    background-color: transparent !important;
    box-shadow: none !important; 
}

/* 4. Limpiamos los botones mismos */
.stToolbarActions button,
.stMainMenu button,
.st-emotion-cache-183fv89,
.st-emotion-cache-15b0g9l {
    background-color: transparent !important;
    color: #333333 !important;
}

/* =================================================================
   Punto 11: ARREGLAR TEXTO DEL MULTISELECT SELECCIONADO (CHIPS)
   ================================================================= */

/* 1. Selector que apunta al texto dentro de las pastillas seleccionadas */
.stMultiSelect div[data-testid="stValueLabel"] {
    /* Forzamos el color del texto a oscuro */
    color: #333333 !important; 
    font-weight: bold !important; /* Opcional: hacemos el texto más fuerte */
}

/* 2. Selector alternativo/complementario para el botón del chip */
/* Esto puede ser necesario si el selector anterior no es suficiente */
.stMultiSelect button.st-b3 span {
    color: #333333 !important; 
}
